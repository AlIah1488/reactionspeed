<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REACTION TEST</title>
    <link rel="shortcut icon" type="image/png" href="icon.png">
    <style>
        body{
            background-color: #1B2631;
            color: #F5F5F5;
        }
        h1{
            color: #2C3E50;
            font-size: 50px;
            font-family: Arial, sans-serif;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 700;
        }
        h2{
            color: #ECEFF1;
            font-size: 50px;
            position: absolute;
            top: 0;
            right: 0;
            font-family: Verdana, sans-serif;
        }
        #react{
            background-color: #0077b6;
            width: 30px;
            height: 30px;
            border-radius: 20%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            outline: none; /* disable outline */
        }
        #clear{
            background-color: #0077b6;
            border-radius: 8px;
            position: absolute;
            right: 50px;
            top: 90%;
            color: #fff;
            outline: none; /* disable outline */
        }
    </style>
</head>
<body>
    <h1 >TEST YOUR REACTION</h1>
    <h2 id="gg">Score: 0</h2>
    <!-- Add a class 'no-keyboard' to the button to disable keyboard input -->
<button id="react" tabindex="-1" onkeydown="return event.key != 'Enter';" class="no-keyboard"></button> 
<button id="clear" tabindex="-1" onkeydown="return event.key != 'Enter';" class="no-keyboard">CLEAR</button>
<script>
    let a = localStorage.getItem("a") ? parseInt(localStorage.getItem("a")) : 0;
    const gg = document.getElementById("gg");
    const react = document.getElementById("react");
    const clear = document.getElementById("clear");
    react.addEventListener("mousedown", function() {
        // Increment score, update and save the score
        a = a + 1;
        gg.innerHTML = "Score: " + a;
        localStorage.setItem("a", a);

        // Calculate random position for the button within the visible screen
        const margin = 0.5; // 20% margin
        const maxWidth = window.innerWidth * (1 - margin) - react.clientWidth;
        const maxHeight = window.innerHeight * (1 - margin) - react.clientHeight;

        const randomX = Math.floor(Math.random() * maxWidth) + window.innerWidth * margin;
        const randomY = Math.floor(Math.random() * maxHeight) + window.innerHeight * margin;

        // Update the position of the button
        react.style.top = `${randomY}px`;
        react.style.left = `${randomX}px`;
    });
    clear.addEventListener("mousedown", function(){
        gg.innerHTML = "Score: 0";
        localStorage.setItem("a", 0);
        a = 0;
    });
    // Update the score on page load
    window.addEventListener("load", function(){
        a = localStorage.getItem("a") ? parseInt(localStorage.getItem("a")) : 0;
        gg.innerHTML = "Score: " + a;
    });

    // Add CSS to disable outline when button is clicked with mouse
    const style = document.createElement('style');
    style.innerHTML = `
        .no-keyboard:focus {
            outline: none;
        }
    `;
    document.head.appendChild(style);
</script>


</body>
</html>
